<script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>
<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/dolphin-platform-polymer/remoting-controller.html">

<dom-module id="detail-view">
    <template>
        <remoting-controller id="controller" name="DetailController" model="{{model}}" on-postconstruct="onInit"></remoting-controller>
        <div>ID: [[model.id]]</div>
        <div>Name: [[model.name]]</div>
        <div>Description: [[model.description]]</div>
    </template>
    <script>
        HTMLImports.whenReady(function () {
            Polymer({
                is: 'detail-view',
                properties: {
                    id: {
                        type: Number
                    }
                },
                onInit(event) {
                    var poly = this;
                    poly.set('model.id', poly.id);
                    poly.$.controller.invoke("reload");
                }
            });
        });
    </script>
</dom-module>
